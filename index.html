<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pastery Paradise ‚Äì Heavenly Pastries Delivered</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Fonts: Inter & Montserrat -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Montserrat:wght@700&display=swap" rel="stylesheet">
  <!-- Icons CDN for cart & others -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
  <style>
    :root {
      --main-bg: #f8e9d2;
      --accent-bg: #fff5ec;
      --secondary: #fad0c4;
      --soft-text: #8a6e4c;
      --primary-text: #4b3031;
      --btn: #fdcf4e;
      --btn2: #fdbf72;
      --badge: #eaac7f;
      --danger: #ff7066;
    }
    body {
      background: linear-gradient(120deg, var(--main-bg), var(--accent-bg) 50%, var(--secondary) 100%);
      font-family: 'Inter', Arial, sans-serif;
      color: var(--primary-text);
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    header {
      padding: 0;
      background: #fffdfbfc;
      box-shadow: 0 2px 8px #efd3b510;
      position: sticky;
      top: 0;
      z-index: 999;
    }
    .navbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      max-width: 1200px;
      margin: 0 auto;
      padding: 15px 4vw 9px;
    }
    .brand {
      font-family: 'Montserrat', sans-serif;
      font-size: 2.2rem;
      letter-spacing: 1.5px;
      color: #be6974;
      font-weight: 800;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .brand .fa-cake-candles {
      font-size: 1.1em;
      color: #ffb085;
    }
    .nav-links {
      display: flex;
      gap: 22px;
    }
    .nav-links a {
      text-decoration: none;
      color: #8a6e4c;
      font-size: 1rem;
      font-weight: 600;
      transition: color .2s;
    }
    .nav-links a:hover { color: #e6854a;}
    .deal-marquee {
      width: 100vw; background: var(--btn2); color: #7a5526; font-weight: 600;
      font-size: .99rem; padding: 7px 0; text-align: center;
      letter-spacing: .1px; border-top: 1px solid #fff4da;
    }

    /* Hero + Carousel */
    #hero {
      display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
      position: relative; z-index: 2; padding: 20px 1vw 0;
    }
    #hero h1 {
      margin: 0; padding: 0; font-size: 2.84rem; font-family: 'Montserrat', sans-serif; font-weight: 700;
      background: linear-gradient(80deg, #e479bd, #fbb25a 60%);
      color: transparent; -webkit-background-clip: text; background-clip: text;
      letter-spacing: 2px;
    }
    .hero-tag {
      background: #fff3e6bb;
      color: #be6974; border-radius: 9px; padding: 7px 20px;
      margin: 12px 0 17px; font-family: 'Inter', sans-serif; font-weight: 500;
      letter-spacing: .2px;
      box-shadow: 0 1px 6px #fae1b888;
      display:inline-block;
      font-size: 1.2rem;
    }
    .carousel-wrap {
      margin-top:7px;margin-bottom:25px;
      width:100%;max-width:810px;overflow:hidden;
      padding:0 10px;box-sizing:border-box;
    }
    .carousel {
      display:flex;gap:13px;
      transition: transform 0.4s cubic-bezier(.7,.12,.28,1);
    }
    .carousel-card {
      background: #fffefd;
      border-radius: 11px;
      box-shadow: 0 2px 14px #dacbb579;
      display: flex; flex-direction: column; align-items: center;
      min-width: 170px; max-width: 170px;
      padding: 12px 12px 14px;
      margin-top: 2px;
      transition: box-shadow .22s,transform .22s;
      position: relative;
    }
    .carousel-card .badge {
      position: absolute; top: 12px; right: 10px; background: var(--badge); color: #fff;
      font-size: .85rem; border-radius: 5px; padding: 2px 8px; font-family: 'Montserrat',sans-serif;
    }
    .carousel-card img {
      width: 80px; height: 68px; object-fit: cover; border-radius: 12px;
      margin-bottom: 11px; margin-top:11px; box-shadow:0 2px 9px #feefdcaa;
    }
    .carousel-card .cc-title {
      font-family: 'Montserrat',sans-serif; font-weight:700; color:#a86539;
      font-size: 1.02em; margin-bottom: 1px;
      text-align: center;
    }
    .carousel-btn { background:none; border:none; font-size:2.1em; color:#c6a481; cursor:pointer; margin:0 3px; }
    .carousel-btn:hover { color:#de816a; }
    /* MAIN LAYOUT: Shop, Cart, Testimonials */
    #main {
      display: flex; justify-content: space-between;
      max-width: 1200px; margin: 0 auto;
      gap: 36px;
      padding: 8px 3vw 40px;
      position:relative;z-index:4;
    }
    #shop {
      max-width: 820px; flex: 2 2 680px;
      background: #fffdfaef;
      border-radius: 16px;
      box-shadow: 0 1px 10px #eec6a510;
      padding: 25px 30px 38px;
      margin-bottom:10px;
    }
    #shop .shop-title {
      font-size: 2.1em; font-family: 'Montserrat',sans-serif; margin: 0 0 22px 0;
      letter-spacing:1px; color: #a86539;
    }
    .products {
      display: flex; flex-wrap: wrap; gap: 22px 30px;
    }
    .product-card {
      background: #fffefd;
      border-radius: 12px;
      box-shadow: 0 1px 7px #ebccb088;
      width: 212px; min-height: 320px;
      display: flex; flex-direction: column; align-items: center;
      padding: 14px 10px 14px 10px;
      margin-bottom:10px;
      transition: transform .18s, box-shadow .21s;
      position:relative;
    }
    .product-card:hover {
      transform: translateY(-4px) scale(1.025);
      box-shadow:0 4px 16px #eae7cd;
    }
    .prod-img {
      width: 100px; height: 100px; margin-bottom: 10px;
      border-radius: 13px;
      object-fit: cover;
      box-shadow: 0 3px 16px #f7d9bc99;
      border: 2px solid #fae7bc33;
    }
    .prod-title {
      font-family: 'Montserrat',sans-serif; color:#a87653;
      font-size: 1.08em; font-weight: 700;
      margin-bottom: 2px;text-align:center;
    }
    .prod-desc {
      font-size: 0.98em; font-family: 'Inter',sans-serif; color: #684218;
      min-height: 37px; text-align: center;margin-bottom:7px;
    }
    .price-tag {
      font-family: monospace; font-size: 1.04em; margin-bottom: 8px; color: #e9793d;
      font-weight: 600;
    }
    .prod-badges {
      display:flex;gap:7px;margin-bottom:5px;
    }
    .prod-badge {
      font-size:.82em;background:#f8e1ba;color:#b8783a;
      border-radius:4px;padding:1px 8px;font-weight:700;font-family:'Montserrat',sans-serif;box-shadow:0 1px 2px #fad0c455;
    }
    .qty-controls {
      display: flex; margin-bottom: 8px; align-items: center; gap: 7px;
      justify-content: center;
    }
    .qty-btn {
      border:none; background:#fad0c4; padding:2px 8px; border-radius:4px;
      cursor:pointer; font-size:19px; color:#a0522d; transition: background 0.14s;
      font-weight:500;
    }
    .qty-btn:hover { background:#fcb690;}
    .qty-input {
      width: 30px; text-align: center; font-size: 1.02em;
      border: 1px solid #fad0c4; border-radius: 5px;
      background:#fff7f3; color: #a0522d;
    }
    .add-btn {
      padding: 4px 14px;
      background: linear-gradient(90deg,#fad0c4,#ffe3b8);
      color: #a0522d;
      border: none;
      border-radius: 7px;
      font-family: 'Inter', monospace;
      font-size: 1em;
      cursor: pointer;
      box-shadow: 0 2px 8px #fad0c455;
      transition: background 0.18s;
      font-weight:600;
      margin-top:2px;
    }
    .add-btn:hover {
      background: linear-gradient(70deg, #f7cb9e, #fad0c4);
      color: #e65d0a;
    }
    /* Sticky Cart Sidebar */
    #cart {
      position:sticky; top:30px; right:0; flex:1 1 290px; min-width:280px;
      margin-left:12px;
      background: #fff7f7ee;
      border-radius: 14px;
      box-shadow: 0 4px 18px #f3d0a944;
      padding: 22px 20px 26px;
      font-family: 'Inter', sans-serif;
      color: #a0522d;
      transition: box-shadow .16s;
      z-index:100;
      align-self:flex-start;
      display:flex; flex-direction:column; min-height:312px;
    }
    #cart h2 { font-family:'Montserrat',sans-serif; font-size: 1.43em; margin: 4px 0 15px 0; font-weight:700;}
    .cart-badge {
      position: absolute;right:13px;top:11px;background:var(--danger);color:#fff;
      font-size:.89em;font-family:'Montserrat',sans-serif;border-radius:7px;padding:2px 10px;font-weight:700;box-shadow:0 2px 5px #fad0c466;
      z-index:15;
      display:inline-block;
    }
    .cart-header-row {
      display:flex;align-items:center;justify-content:space-between;margin-bottom:13px;position:relative;
    }
    .cart-header-row .fa-shopping-cart { font-size:1.2em; color: #e27c5e;}
    .cart-item {
      display: flex; align-items: center; justify-content: space-between;
      font-size: 1em; margin-bottom: 7px;
      background:#fff4ef99;padding:6px 4px 5px;border-radius:7px;
    }
    .cart-title {font-weight: 600;}
    .cart-total { font-size: 1.1em; font-weight: bold; color: #df4e09;margin-top:13px;}
    .cart-empty { font-style: italic; color: #c6a481; margin:12px 0; }
    .remove-btn {
      background:none;color:#c77439;font-weight:600;border:none;font-size:1.15em;cursor:pointer;padding-left:7px;
      transition:color .13s;
    }
    .remove-btn:hover{color:#e8443a;}
    #checkout-btn {
      margin-top: 14px;
      background: #f6d17c;
      color: #a0522d;
      border: none;
      padding: 10px 0;
      border-radius: 8px;
      font-family: 'Montserrat',sans-serif;
      font-size: 1.1em;
      font-weight:700;
      cursor: pointer;
      box-shadow: 0 2px 8px #fad0c455;
      transition: background .17s;
      width:100%;
    }
    #checkout-btn:hover { background: #ffe7bc;}
    /* Testimonials */
    #testimonials {
      margin: 0 auto;
      margin-bottom:16px;
      background: #fffcebbb; border-radius: 13px; padding: 1.3vw 1.5vw;
      box-shadow: 0 2px 12px #fad0c488;
      max-width:660px;
    }
    .testimonial {
      margin-bottom: 1.16vw; color: #7d5c41; font-family: 'Inter',sans-serif;
      background: #f8e9d251; border-radius: 10px; padding: 14px 15px 12px 16px;
      box-shadow: 0 2px 9px #fad0c425 inset; position: relative; font-size:1.06em;
    }
    .testimonial:last-child { margin-bottom:0; }
    .testi-name { font-weight:bold; color:#be693a;}
    .testi-stars { color: #fdcf4e; font-size: 1.02em; margin-bottom:1px; margin-right:2px;}
    /* 3D Pastry effect - background animated */
    #bg3d {
      position:fixed;top:0;left:0;width:100vw;height:100vh;
      z-index:0;pointer-events:none; opacity:.35;
    }
    /* FOOTER */
    footer { background: #f1e9dd; color: #81564a; font-size:1em; margin-top:auto; }
    .footer-wrap {
      max-width: 1200px; margin:0 auto; padding:25px 3vw 18px; display:flex;flex-wrap:wrap; gap:22px;
    }
    .footer-section {
      flex:1 1 170px;
      margin-bottom:10px;
    }
    .footer-links {display:flex;flex-direction:column;gap:6px;}
    .footer-links a {color:#ab7660;text-decoration:none;transition:color .15s;}
    .footer-links a:hover{color:#c77439;}
    .footer-about {
      font-size:.98em; color:#7b6655; margin-bottom:7px;
    }
    .footer-brand {
      font-family: 'Montserrat',sans-serif; font-size:1.3em; color: #be6974; font-weight:700; letter-spacing:1px;
      display: flex; align-items:center; gap:7px;
    }
    /* MEDIA */
    @media (max-width: 960px) {
      #main {
        flex-direction:column; gap:0; padding:7px 2vw 32px;
      }
      #cart { position:static; margin-left:0; width:100%; min-width:0;}
    }
    @media (max-width: 700px) {
      .navbar {flex-direction:column;gap:9px;}
      .brand {font-size:1.8rem;}
      #main {padding: 4vw 1vw 26vw;}
      #shop{padding:20px 6vw 22px;}
    }
    @media (max-width:500px){
      .carousel-wrap{max-width:99vw;}
      .carousel-card{min-width:80vw;max-width:95vw;}
      #shop{padding:7vw 2vw;}
      #cart{padding:13px 3vw;}
      .footer-wrap{flex-direction:column;}
    }
  </style>
</head>
<body>
<header>
  <div class="navbar">
    <div class="brand"><i class="fa-solid fa-cake-candles"></i> Pastery Paradise</div>
    <nav class="nav-links">
      <a href="#hero">Home</a>
      <a href="#shop">Shop</a>
      <a href="#testimonials">Testimonials</a>
      <a href="#contact" style="color:#ea823a;font-weight:700;">Order Online</a>
    </nav>
  </div>
  <div class="deal-marquee">
    <span><i class="fa-solid fa-percent"></i>  Get 15% OFF with code ‚ÄúSWEET15‚Äù | Free home delivery on orders above ‚Çπ599!</span>
  </div>
</header>
<canvas id="bg3d"></canvas>
<section id="hero">
  <h1>Freshly Baked Everyday</h1>
  <div class="hero-tag">Handmade with Love ¬∑ Eggless Options ¬∑ Express Delivery</div>
  <div class="carousel-wrap">
    <button class="carousel-btn" onclick="moveCarousel(-1)"><i class="fa fa-chevron-left"></i></button>
    <div class="carousel" id="carousel"></div>
    <button class="carousel-btn" onclick="moveCarousel(1)"><i class="fa fa-chevron-right"></i></button>
  </div>
</section>
<main id="main">
<div id="shop">
  <div class="shop-title">Our Signature Pastries</div>
  <div class="products" id="product-list"></div>
</div>
<div id="cart">
  <div class="cart-header-row">
    <span style="font-size:1.11em;">Your Cart</span>
    <span class="cart-badge" id="cart-badge">0</span>
    <i class="fa fa-shopping-cart"></i>
  </div>
  <div id="cart-items"></div>
  <div class="cart-total"></div>
  <button id="checkout-btn">Proceed to Checkout</button>
</div>
</main>
<section id="testimonials">
  <div style="font-family:'Montserrat',sans-serif;font-size:1.25em;margin-bottom:.7em;">What Our Guests Say‚Ä¶</div>
  <div id="testimonial-list"></div>
</section>
<footer>
  <div class="footer-wrap">
    <div class="footer-section">
      <div class="footer-brand"><i class="fa-solid fa-cake-candles"></i> Pastery Paradise</div>
      <div class="footer-about">
        ‚ÄòA Slice of Heaven‚Äô brought to your doorstep. <br>
        Exquisite, fresh pastries from classic red velvet to luscious truffle‚Äîdiscover your favourite treat.<br>
        <span style="color:#be6974;">Order now, indulge later.</span>
      </div>
    </div>
    <div class="footer-section">
      <div class="footer-links"><span style="color:#b8783a;font-weight:600;">Quick Links</span>
        <a href="#shop">Shop Pastries</a>
        <a href="#testimonials">Guest Reviews</a>
        <a href="#" onclick="scrollToCheckout()">Go to Checkout</a>
        <a href="https://theobroma.in/collections/pastry" target="_blank">Inspired by Theobroma</a>
      </div>
    </div>
    <div class="footer-section">
      <div id="contact"><span style="font-weight:600;color:#b8783a;">Contact</span><br>
      WhatsApp: 9X9X-XXXXXX<br>
      Email: hello@pasteryparadise.co.in<br>
      </div>
    </div>
  </div>
</footer>
<!-- Checkout Modal -->
<div id="checkout-modal" style="position:fixed;top:0;left:0;width:100vw;height:100vh;display:none;z-index:7000;background:#2d243033;">
  <div id="checkout-page" style="margin:45px auto 0;max-width:430px;background:#fffdfa;border-radius:16px;box-shadow:0 8px 38px #bfa48077;padding:40px 28px 30px 28px;">
    <h2 style="font-family:'Montserrat',sans-serif;font-size:1.69em; color:#a86539;margin-bottom:17px;margin-top:0;">Checkout</h2>
    <div id="checkout-step1">
      <div style="font-size:1.04em;font-weight:600;margin-bottom:8px;color:#7f684a;">Log in or Continue as Guest</div>
      <input type="text" id="guestName" placeholder="Your Name (optional)" style="width:100%;padding:9px 13px;margin-bottom:15px;font-size:99%;border:1px solid #fad0c4;border-radius:6px;">
      <button onclick="gotoAddressPage()" style="width:100%;background:#f7cb9e;color:#7b4c1c;font-size:1.09em;font-family:'Montserrat';font-weight:700;border:none;padding:9px 0;border-radius:7px;margin-bottom:7px;">Continue as Guest</button>
    </div>
    <div id="checkout-step2" style="display:none;">
      <form id="checkout-form">
        <label>Delivery Address*</label>
        <input type="text" name="address" required placeholder="Flat/Street, Area, City" style="width:100%;margin-bottom:13px;padding:8px 11px;border-radius:6px;border:1px solid #fad0c4;">
        <label>Contact Number*</label>
        <input type="tel" name="phone" required placeholder="e.g. 9876543210" style="width:100%;margin-bottom:13px;padding:8px 11px;border-radius:6px;border:1px solid #fad0c4;">
        <div id="checkout-summary"></div>
        <button type="submit" style="margin-top:18px;width:100%;background:#fdcf4e;color:#a8730d;font-family:'Montserrat';font-weight:700;font-size:1.11em;border:none;padding:11px 0;border-radius:9px;">Place Order</button>
      </form>
    </div>
    <button onclick="closeCheckout()" style="margin-top:17px;background:none;border:none;font-size:1.08em;color:#cf7a57;cursor:pointer;text-align:right;float:right;">Cancel</button>
  </div>
</div>
<!-- Scripts -->
<script>
  // --- PRODUCT DATA (Inspired by Theobroma) ---
  const products = [
    { id:1, name:"Chocoholic Pastry", desc:"Dark, milk & white chocolate mousse on a soft base. Rich & decadent.", price:210, img:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&w=400&q=80", badges:["Bestseller"] },
    { id:2, name:"Fresh Pineapple", desc:"Vanilla sponge with fresh cream & pineapple compote. Light & zesty.", price:190, img:"https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?auto=format&w=400&q=80", badges:["Eggless Available"] },
    { id:3, name:"Hazelnut Praline", desc:"Hazelnut praline chocolate mousse & crunchy hazelnuts.", price:225, img:"https://images.unsplash.com/photo-1464306076886-debca5e8a6b0?auto=format&w=400&q=80", badges:["New"] },
    { id:4, name:"Red Velvet Slice", desc:"Classic cocoa & buttermilk sponge, cream cheese frosting.", price:210, img:"https://images.unsplash.com/photo-1432139555190-58524dae6a55?auto=format&w=400&q=80", badges:["Popular","Eggless Available"] },
    { id:5, name:"Baked Cheesecake", desc:"Mini New York style cheesecake on buttery biscuit base.", price:230, img:"https://images.unsplash.com/photo-1464306076886-debca5e8a6b0?auto=format&w=400&q=80", badges:["Bestseller"]}
  ];
  // --- CAROUSEL ---

  const carouselData = [
    {img: products[0].img, title: products[0].name, badge:"Bestseller"},
    {img: products[1].img, title: products[1].name, badge:"Eggless"},
    {img: products[2].img, title: products[2].name, badge:"New"},
    {img: products[3].img, title: products[3].name, badge:"Popular"},
    {img: products[4].img, title: products[4].name, badge:""},
  ];
  let carouselPos = 0;
  function renderCarousel() {
    const c = document.getElementById('carousel');
    c.innerHTML = '';
    for(let i=0;i<carouselData.length;++i) {
      let d = document.createElement('div');
      d.className = 'carousel-card';
      d.innerHTML = `
       <img src="${carouselData[i].img}" alt="">
       <div class="cc-title">${carouselData[i].title}</div>
       ${carouselData[i].badge ? `<span class="badge">${carouselData[i].badge}</span>` : ''}
      `;
      c.appendChild(d);
    }
    c.style.transform = `translateX(-${carouselPos * 185}px)`;
  }
  function moveCarousel(dir) {
    carouselPos += dir;
    if(carouselPos < 0) carouselPos = 0;
    if(carouselPos > carouselData.length-3) carouselPos = carouselData.length-3;
    renderCarousel();
  }
  renderCarousel();

  // --- PRODUCT SHOP RENDER ---
  let prodList = document.getElementById("product-list");
  products.forEach(product => {
    let card = document.createElement("div");
    card.className = "product-card";
    card.innerHTML = `
      <img class="prod-img" src="${product.img}" alt="${product.name}" />
      <div class="prod-title">${product.name}</div>
      <div class="prod-desc">${product.desc}</div>
      <div class="prod-badges">${(product.badges||[]).map(b=>`<span class="prod-badge">${b}</span>`).join('')}</div>
      <div class="price-tag">‚Çπ${product.price}</div>
      <div class="qty-controls">
        <button class="qty-btn" onclick="updateQty(${product.id}, -1)">-</button>
        <input class="qty-input" id="qty-${product.id}" value="1" min="1" type="number" onchange="checkQty(${product.id})"/>
        <button class="qty-btn" onclick="updateQty(${product.id}, 1)">+</button>
      </div>
      <button class="add-btn" onclick="addToCart(${product.id})">Add to Cart</button>
    `;
    prodList.appendChild(card);
  });

  // Cart Logic
  let cart = {};
  function updateQty(id, change) {
    let input = document.getElementById("qty-"+id);
    let val = Math.max(1, parseInt(input.value)+change);
    input.value = val;
  }
  function checkQty(id) {
    let input = document.getElementById("qty-"+id);
    if (parseInt(input.value) < 1) input.value = 1;
  }
  function addToCart(id) {
    const qty = parseInt(document.getElementById('qty-' + id).value);
    if (cart[id]) cart[id] += qty;
    else cart[id] = qty;
    renderCart();
    showCartHighlight();
  }
  function removeFromCart(id) {
    delete cart[id];
    renderCart();
  }
  function cartCount() {
    return Object.values(cart).reduce((a,b)=>a+b, 0);
  }
  function renderCart() {
    let cItems = document.getElementById("cart-items");
    cItems.innerHTML = "";
    let t = 0;
    Object.keys(cart).forEach(pid => {
      const p = products.find(pr => pr.id == pid);
      const q = cart[pid];
      t += p.price * q;
      let d = document.createElement("div");
      d.className = "cart-item";
      d.innerHTML = `
        <span class="cart-title">${p.name} x ${q}</span>
        <span>‚Çπ${p.price*q} <button onclick="removeFromCart(${p.id})" class="remove-btn" title="Remove item">‚úï</button></span>`;
      cItems.appendChild(d);
    });
    if (!Object.keys(cart).length) cItems.innerHTML = "<div class='cart-empty'>Your cart is empty!</div>";
    document.querySelector(".cart-total").textContent = "Total: ‚Çπ"+t;
    document.getElementById('cart-badge').innerText = cartCount();
  }
  // Cart badge animation
  function showCartHighlight() {
    let cb = document.getElementById('cart-badge');
    cb.style.transform = "scale(1.18)";
    cb.style.background = "#db8e78";
    setTimeout(()=>{cb.style.transform = "";cb.style.background="";}, 360);
  }
  renderCart();

  // --- Checkout Modal / "Next Page" flow (inspired by Theobroma) ---
  let lastCheckoutName = "";
  document.getElementById('checkout-btn').onclick = function() {
    if (!Object.keys(cart).length) { alert("Cart is empty!"); return;}
    openCheckout();
  };
  function openCheckout() {
    document.getElementById('checkout-modal').style.display = "block";
    document.getElementById('checkout-step1').style.display = "block";
    document.getElementById('checkout-step2').style.display = "none";
    document.getElementById('guestName').value = lastCheckoutName||"";
  }
  function closeCheckout() {
    document.getElementById('checkout-modal').style.display = "none";
  }
  function gotoAddressPage() {
    lastCheckoutName = document.getElementById('guestName').value || "Guest";
    document.getElementById('checkout-step1').style.display = "none";
    document.getElementById('checkout-step2').style.display = "block";
    // summary
    let t=0, citems="";
    Object.keys(cart).forEach(pid => {
      const p = products.find(pr => pr.id == pid), q = cart[pid];
      t += p.price * q;
      citems+= `<div style="margin-bottom:2px;">${p.name} x ${q} = ‚Çπ${p.price*q}</div>`;
    });
    document.getElementById("checkout-summary").innerHTML =
      `<div style="background:#f8e7b655;border-radius:7px;margin-top:12px;padding:12px 11px 2px;"><strong>Order for:</strong> ${lastCheckoutName}<br>${citems}<div class="cart-total" style="font-size:1.04em;">Grand Total: ‚Çπ${t}</div></div>`;
  }
  document.getElementById('checkout-form').onsubmit = function(e) {
    e.preventDefault();
    setTimeout(()=>{
      alert("Thank you for your order!\n\nYour heavenly treats are on their way üç∞");
      closeCheckout();
      cart={}; renderCart();
    },230)
  };
  function scrollToCheckout() {
    document.getElementById('cart').scrollIntoView({behavior:'smooth'});
  }

  // --- Testimonials
  const testimonials = [
    {stars:5,name:"Aanya",text:"The eggless pineapple pastry is so fresh‚Äîmy family's new favourite!"},
    {stars:4,name:"Arjun",text:"Smooth order, lovely presentation. The cream cheese red velvet is memorable."},
    {stars:5,name:"Tanvi",text:"Absolutely delightful pastries ‚Äì fast delivery and so tasty!"},
    {stars:4,name:"Krish",text:"Liked the hazelnut praline a lot. Would love more options in future."},
    {stars:5,name:"Riya",text:"Customer support is sweet as their cakes. Highly recommended!"}
  ];
  let testiDiv = document.getElementById('testimonial-list'); testiDiv.innerHTML="";
  testimonials.forEach(t=>{
    let d = document.createElement('div');
    d.className = "testimonial";
    d.innerHTML = `<span class="testi-stars">${"‚òÖ".repeat(t.stars)}${"‚òÜ".repeat(5-t.stars)}</span> <span class="testi-name">${t.name}:</span> ${t.text}`;
    testiDiv.appendChild(d);
  });

  // --- 3D Floating Pastries Animation ---
  // (calmer, lighter effect for subtlety)
  (() => {
    let scene = new THREE.Scene();
    let camera = new THREE.PerspectiveCamera(45, window.innerWidth/window.innerHeight, 0.1, 1000);
    let renderer = new THREE.WebGLRenderer({canvas:document.getElementById('bg3d'), alpha:true, antialias:true});
    renderer.setClearColor(0x000000, 0); renderer.setSize(window.innerWidth, window.innerHeight);

    camera.position.z = 10;
    let pastries = [];
    let geo = [
      new THREE.TorusGeometry(1, 0.41, 16, 60),
      new THREE.CapsuleGeometry(0.66, 1.22, 8, 16),
      new THREE.SphereGeometry(0.72, 24, 13)
    ];
    let mat = [
      new THREE.MeshPhongMaterial({ color: 0xf8c681, shininess: 98, specular:0xffffff, emissive:0xf7cb9e }),
      new THREE.MeshPhongMaterial({ color: 0xdfae6b, shininess: 89, specular:0xd46e31, emissive:0xce9f71 }),
      new THREE.MeshPhongMaterial({ color: 0xbd6168, shininess: 70, specular:0x844545, emissive:0xfad0c4 })
    ];
    for (let i=0; i<7; i++) {
      let m = new THREE.Mesh(geo[i%3].clone(), mat[i%3].clone());
      m.position.set(Math.random()*17-8, Math.random()*12-6, Math.random()*8-4);
      m.rotation.set(Math.random()*2, Math.random()*2, Math.random()*2);
      m.scale.setScalar(1.1 + Math.random()*0.5);
      scene.add(m); pastries.push(m);
    }
    let l1 = new THREE.DirectionalLight(0xffffff, 0.81);
    l1.position.set(12,10,10); scene.add(l1);
    let l2 = new THREE.PointLight(0xfad0c4, 1.17, 80);
    l2.position.set(-12,-8,7);scene.add(l2);
    function animate() {
      requestAnimationFrame(animate);
      pastries.forEach((p, i) => {
        p.rotation.x += 0.0037 + (i%3)*0.0008;
        p.rotation.y += 0.0027;
        p.position.y += Math.sin(Date.now()/630 + i)*0.0045;
      });
      renderer.render(scene, camera);
    }
    animate();
    window.addEventListener('resize',()=>{
      camera.aspect=window.innerWidth/window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth,window.innerHeight);
    });
  })();
</script>
</body>
</html>
